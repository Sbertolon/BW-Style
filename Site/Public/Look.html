<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BW Style - Look</title>
    <link rel="stylesheet" href="css/Look.css">

</head>

<body>

    <header class="cabecalho">
        <img class="img" src="assets/2.png" alt="">
        <a class="cabecalho-opcoes-botoes" href="Glowup.html">Glow up</a>
        <a class="cabecalho-opcoes-botoes" href="Look.html">Look</a>
        <a class="cabecalho-opcoes-botoes" href="./dashboard/Dashboard.html">Dashboard</a>

    </header>

    <main class="conteudo" id="conteudo">


        <div class="postagem-tudo">
            
            <div class="postagem1">
                <h1>Calça jeans</h1>
                <p>É comum deixarmos de usar a calça jeans, por termos receio de perder a elegancia do look. Entretando,
                    ela é uma exelente peça, principalmente pelo fato de ser versatil, e trazer uma casualidade.
                </p><br>
                <p>Apesar disso, algumas pessoas pecam no uso da calça jeans, pelo simples fato de estarem usando uma
                    modelagem que não condiz com seu biotipo.<br>
                    <a class="links" target="_blank"
                        href="https://www.comprarroupasatacado.com.br/blog/confira-os-cortes-de-jeans-que-valorizam-cada-biotipo/">Encontre
                        a modelagem perfeita para o seu biotipo</a>
                </p><br>
                <h3>Dicas</h3>
                <p>
                    <strong class="conteudo-site-titulo">1°</strong> Utilize acessórios como bolsa, óculos, anéis,
                    brincos, pulseira e até um sapato diferenciado;<br>
                    <strong class="conteudo-site-titulo">2°</strong> Use camisetas, camisas ou t-shirts que tragam algum
                    detalhe, como uma manga dobrada, uma gola diferenciada, esses pontos trazem muita elegancia ao
                    look;<br>
                    <strong class="conteudo-site-titulo">3°</strong> Fuja do convencional, traga outros elementos ao
                    look, seja com uma peça de textura diferente ou no recorte. Utilizar uma peça com uma cor
                    diferenciada trazendo destaque também é valido;<br>
                    <strong class="conteudo-site-titulo">4°</strong> A maquiagem e o cabelo também podem compor um bom
                    look, use a página de maquiagem para se inspirar.
                </p><br>

                <div id="botoes1">
                    <!-- <button onclick="curtir(this)">Curtir</button> -->
                </div>
            </div>

            <div class="postagem2">
                <h1>Itens indispensáveis no inverno</h1>
                <p>A grande maioria busca se manter aquecido no inverno, utilizando várias peças de roupa, quando na
                    verdade, uma única peça, bem escolhida, faria toda a diferença.</p><br>
                <h4>Veja como se manter elegante e aquecida no inverno</h4>
                <p>
                    <strong class="conteudo-site-titulo">1°</strong> Meia calça com fio acima de 100;<br>
                    <strong class="conteudo-site-titulo">2°</strong> Casacos de lã e sobretudo (por mais que sejam mais
                    caros, valem muito apena pela qualidade e durabilidade da peça);<br>
                    <strong class="conteudo-site-titulo">3°</strong> Cachicol, manta e pashmina;<br>
                    <strong class="conteudo-site-titulo">4°</strong> Botinha preta;<br>
                    <strong class="conteudo-site-titulo">5°</strong> Peças com poucas áreas de pelo sintético.
                </p>
                <p>Não se esqueça do hidratante corporal e labial!</p><br>

                <div id="botoes2">
                    <!-- <button onclick="curtir(this)">Curtir</button> -->
                </div>

            </div>

            <div class="postagem3">
                <h1>Peças de roupa</h1><br>
                <h3>Material</h3>
                <p>peças de trico, linho e couro , além de serem super recomendados no inverno para nos aquecer, são
                    vistos como materias mais sofisticados.</p><br>
                <h3>Lavagem</h3>
                <p>É recomendado lavar peças de roupa colorida do avesso, para não desbotar a cor.<br> Peças de trico
                    também devem ser lavadas do avesso para não criar bolinhas.
                </p><br>
                <h3>Atenção!</h3>
                <p>Muito cuidado utilizando peças de renda por baixo, pois elas costumam marcar facilmente.</p><br>

                <div id="botoes3">
                    <!-- <button onclick="curtir(this)">Curtir</button> -->
                </div>

            </div>
        </div>

        <conteiner>
            <div class="produto-desconto">
                <h2>Produtos com desconto <br> da loja LD acessórios</h2>

                <div class="container-slider">
                    <button id="prev-button"><img src="../Public/assets/Botão_de_avançar-remove.png"
                            alt="prev-button"></button>
                    <div class="container-imagem">
                        <img src="assets/Produtos/2023-05-30 21_26_44.938-0300.jpg" alt="oculos" class="slider on">
                        <img src="assets/Produtos/2023-05-30 21_24_50.803-0300.jpg" alt="oculos" class="slider">
                        <img src="assets/Produtos/2023-05-30 21_21_41.042-0300.jpg" alt="oculos" class="slider">
                        <img src="assets/Produtos/2023-05-30 21_30_23.260-0300.jpg" alt="oculos" class="slider">
                    </div>
                    <button id="next-button"><img src="assets/Botão_de_avançar-remove.png" alt="next-button"></button>
                </div>
                <p2>Óculos da loja <a class="links" target="_blank"
                        href="https://br.pinterest.com/pin/668925350915787524/">LD acessórios</a> com desconto!</p>
                    <div id="valor-descontado"></div>
            </div>



            <div class="inspiracoes">
                <div class="inspiracoes-pinterest">
                    <h2>Pinterest</h2>
                    <a class="links" target="_blank" href="https://br.pinterest.com/pin/668925350915787524/">Estilo
                        elegante</a>
                    <a class="links" target="_blank" href="https://br.pinterest.com/lichi_brand/_saved/">Estilo
                        casual</a>
                </div>

                <div class="inspiracoes-mulheres">
                    <h2>Mulheres inspiradoras</h2>
                    <h3>YouTube</h3>
                    <a class="links" target="_blank" href="https://www.youtube.com/@VitoriaPortes">Vitória Portes</a>
                    <a class="links" target="_blank" href="https://www.youtube.com/@MyLifeAsLuanaCarolina">Luana
                        Carolina</a>
                    <a class="links" target="_blank" href="https://www.youtube.com/@leticialt/featured">Letícia
                        Teixeira</a>

                    <h3>Instagram</h3>
                    <a class="links" target="_blank" href="https://www.instagram.com/helena.nataliee/">Helena
                        Nataliee</a>
                    <a class="links" target="_blank" href="https://www.instagram.com/sophielouisesdiary/">Sophia
                        Knight</a>
                    <a class="links" target="_blank" href="https://www.instagram.com/caterinavalentino/">Caterina
                        Valentino</a>
                    <a class="links" target="_blank" href="https://www.instagram.com/drimartini/">Adriana Martini</a>
                </div>

            </div>

        </conteiner>



    </main>


</body>

</html>
<script>

    // Funções do carrossel da page look e makeup
    const slider = document.querySelectorAll('.slider');
    const btnPrev = document.getElementById('prev-button');
    const btnNext = document.getElementById('next-button');

    let currentSlide = 0;

    function hideSlider() {
        slider.forEach(item => item.classList.remove('on'))
    }

    function showSlider() {
        slider[currentSlide].classList.add('on')
    }

    function nextSlider() {
        hideSlider()
        if (currentSlide == slider.length - 1) {
            currentSlide = 0
        } else {
            currentSlide++
        }
        showSlider()
    }
    function prevSlider() {
        hideSlider()
        if (currentSlide == 0) {
            currentSlide = slider.length - 1
        } else {
            currentSlide--
        }
        showSlider()
    }


    btnPrev.addEventListener('click', prevSlider)
    btnNext.addEventListener('click', nextSlider)

    console.log(slider)



    document.addEventListener('DOMContentLoaded', () =>{ 
        fetch(`/medidas/exibir_usuario_curtida/${sessionStorage.ID_USUARIO}`, {
                method: "get"
            }).then(function (resposta) {
                if (resposta.ok) {
                    resposta.json().then((json) => {
                        console.log(json)
                       json.forEach(linha => {    // para cada linha faça:

                        var botao = document.getElementById(`botoes${linha.idPostagem}`)
                        if(linha.usuario_curtiu == 0){
                            botao.innerHTML = `<button idPostagem='${linha.idPostagem}' onclick="curtir(this)">Curtir</button>`
                        } else{
                            botao.innerHTML = `<button idPostagem='${linha.idPostagem}' onclick="curtir(this)" class="curtido" >Curtir</button>`
                        }
                       });
                    })
                }
            })
    })

    function curtir(botao) {


        var Postagem = botao.getAttribute('idPostagem');

        if (botao.classList.contains("curtido")) {
            fetch(`/medidas/descurtir/${sessionStorage.ID_USUARIO}/${Postagem}`, {
                method: "DELETE",
                headers: {
                    "Content-Type": "application/json"
                }
            }).then(function (resposta) {
                 
                if (resposta.ok) {
                    window.alert("Você descurtiu a postagem!");
                } else if (resposta.status == 404) {
                    window.alert("Deu 404!");
                } else {
                    throw ("Houve um erro");
                }
            }).catch(function (resposta) {
                console.log(`#ERRO: ${resposta}`);
            });

            botao.classList.remove('curtido')
        } else {
            fetch(`/medidas/curtir`, {
                method: "post",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(
                    {
                        usuario_server: sessionStorage.ID_USUARIO,
                        postagem_server: Postagem
                    }
                )
            }).then(function (resposta) {

                console.log("resposta: ", resposta);

                if (resposta.ok) {
                    window.alert("Você curtiu a postagem!");

                } else if (resposta.status == 404) {
                    window.alert("Deu 404!");
                } else {
                    throw ("Houve um erro ao tentar realizar a postagem! Código da resposta: " + resposta.status);
                }
            }).catch(function (resposta) {
                console.log(`#ERRO: ${resposta}`);
            });
            botao.classList.add('curtido')

        }
     }

</script>